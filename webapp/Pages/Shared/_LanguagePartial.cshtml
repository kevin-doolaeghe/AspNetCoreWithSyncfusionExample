<ul class="navbar-nav">
    <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="" id="languageSelector" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa-solid fa-language"></i> @Thread.CurrentThread.CurrentUICulture.Name
        </a>
        <div class="dropdown-menu" aria-labelledby="languageSelector">
            <form class="form-inline" asp-area="" asp-page="/Language" asp-route-newCulture="en-US">
                <button type="submit" class="dropdown-item">@Localizer["English"]</button>
            </form>
            <form class="form-inline" asp-area="" asp-page="/Language" asp-route-newCulture="fr-FR">
                <button type="submit" class="dropdown-item">@Localizer["French"]</button>
            </form>
        </div>
    </li>
</ul>

<script>
    var currentCulture = "@Thread.CurrentThread.CurrentUICulture.Name";
    // Load the json culture file
    var ajax = new ej.base.Ajax(location.origin + "/locale/" + currentCulture + ".json", "GET", false);
    ajax.send().then((args) => {
        // Set the culture for the ASP.NET Core controls
        ej.base.setCulture(currentCulture);
        ej.base.setCurrencyCode("@Localizer["Currency"]");

        var loader = JSON.parse(args);
        ej.base.L10n.load(loader);
    });
</script>
